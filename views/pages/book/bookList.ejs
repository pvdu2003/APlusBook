<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Book List</title>
    <%- include('../../partials/main') %>
  </head>
  <% if (typeof err === 'undefined') err = {}; %> <% if (typeof category ===
  'undefined') category = {}; %>

  <body>
    <%- include('../../partials/header') %>
    <div class="container text-center d-flex flex-row my-4">
      <div class="col-2 text-start">
        <%- include('../../partials/bookNav') %>
      </div>
      <div class="col-10 ps-5">
        <div class="d-flex flex-wrap">
          <% books.forEach(function(book) { %>

          <div class="card mb-2 mx-1 col-3" style="width: 12rem; height: 16rem">
            <a href="/book/<%= book._id %>"
              ><img
                src="<%= book.image %>"
                class="card-img-top mb-0 img-thumbnail"
                alt="Book Image"
                style="height: 12rem"
            /></a>
            <div
              class="card-body pb-1 mt-2 mx-2"
              style="padding: 0px !important"
            >
              <a
                href="/book/<%= book._id %>"
                class="text-decoration-none text-dark"
              >
                <h5
                  class="card-title fs-6 text-start fw-bold text-truncate ps-0 my-0"
                >
                  <%= book.title %>
                </h5>
              </a>
              <div class="d-flex justify-content-between align-items-center">
                <p class="card-text text-main fs-6 fw-bold">
                  <%= book.price %>$
                </p>
                <p style="font-size: 14px">Sold: <%= book.quantity_sold %></p>
              </div>
            </div>
          </div>
          <%}) %>
        </div>
        <% if (totalPages > 1) { %>
        <nav aria-label="Page navigation" class="mb-5">
          <ul class="pagination justify-content-center mt-4">
            <li
              class="<%= currentPage == 1 ? 'page-item disabled' : 'page-item' %>"
            >
              <a
                class="page-link"
                href="/book/list?page=1&from=<%= from %>&to=<%= to %>&title=<%= title %>"
                ><i class="fas fa-angle-double-left"></i
              ></a>
            </li>
            <li
              class="<%= currentPage == 1 ? 'page-item disabled' : 'page-item' %>"
            >
              <a
                class="page-link"
                href="/book/list?page=<%= currentPage-1 %>&from=<%= from %>&to=<%= to %>&title=<%= title %>"
                ><i class="fas fa-chevron-left"></i
              ></a>
            </li>
            <% for (let pageNum = 1; pageNum <= totalPages; pageNum++) { %>
            <li
              class="<%= pageNum == currentPage ? 'page-item active bg-main' : 'page-item' %>"
            >
              <a
                class="page-link"
                href="/book/list?page=<%= pageNum %>&from=<%= from %>&to=<%= to %>&title=<%= title %>"
                ><%= pageNum %></a
              >
            </li>
            <% } %>
            <li
              class="<%= currentPage == totalPages ? 'page-item disabled' : 'page-item' %>"
            >
              <a
                class="page-link"
                href="/book/list?page=<%= currentPage+1 %>&from=<%= from %>&to=<%= to %>&title=<%= title %>"
                ><i class="fas fa-chevron-right"></i
              ></a>
            </li>
            <li
              class="<%= currentPage == totalPages ? 'page-item disabled' : 'page-item' %>"
            >
              <a
                class="page-link"
                href="/book/list?page=<%= totalPages %>&from=<%= from %>&to=<%= to %>&title=<%= title %>"
                ><i class="fas fa-angle-double-right"></i
              ></a>
            </li>
          </ul>
        </nav>
        <% } %>
      </div>
    </div>
    <%- include('../../partials/footer') %>
  </body>
</html>
